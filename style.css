var baseCorreta = [];
var Questoes = [];
var ArrQuestoesGeradas = [];
var regrasMarcadas = [];

var qMarcadas = [];
var qMarcadasTF = [];

var nBaseCorreta;
var marcadasCorretas;
var marcadasErradas;
var tentativas = 0;
var questaoCorrente = 1;

let pontos = 0
var id = 1;

var corAtivada = "#74d9fa";
var corCorreta = "#89e28f";
var corErrada = "#f6acad";

var indicadorLigado = "#f26f21";

const gameArea = document.getElementById('gameArea');
const home = document.getElementById('divHome');
const tutorial = document.getElementById('divTutorial');
const selectRegras = document.getElementById('divSelectRegras');
const feedback2 = document.getElementById('divFeedBack2');
const feedback = document.getElementById('fb');
const resultado = document.getElementById('divResultado');
const divConsulteRegra = document.getElementById('divConsulteRegra');
const divPopUpAlerta = document.getElementById('divPopUpAlerta');
const PopUpLayerBG = document.getElementById('PopUpLayerBG');


const txtPopUp1alternativaRegra = document.getElementById('txtPopUp1alternativaRegra');

//BOTOES
const btnVerFeedbackE = document.getElementById('btnVerFeedbackE');
const btnVerFeedbackI = document.getElementById('btnVerFeedbackI');
const btnVerFeedbackC = document.getElementById('btnVerFeedbackC');
const btnRefazerE = document.getElementById('btnRefazerE');
const btnRefazerI = document.getElementById('btnRefazerI');

const btnVerQuestao = document.getElementById('btnVerQuestao');

const btnVerRegra = document.getElementById('btnVerRegra');

const btncontinuar = document.getElementById('btnContinuar');
const btnVerificar = document.getElementById('btnVerificar');
const btnVoltarHome = document.getElementById('btnVoltarHome');
const btnSeguirRegras = document.getElementById('btnSeguirRegras');
const btnReiniciar = document.getElementById('btnReiniciar');
const btnVoltarAtitudesEsperadas = document.getElementById('btnVoltarAtitudesEsperadas');
const btnVoltarTutorial = document.getElementById('btnVoltarTutorial');
const btnSeguirQuestao = document.getElementById('btnSeguirQuestao');
const btnVoltarPopUp = document.getElementById('btnVoltarPopUp');

const btnPortugues = document.getElementById('btnPortugues');
const btnIngles = document.getElementById('btnIngles');
const btnEspanhol = document.getElementById('btnEspanhol');
const btnAlemao = document.getElementById('btnAlemao');


//TUTORIAL
const textTutorialTitulo = document.getElementById('textTutorialTitulo');
const textTutorialSubTitulo = document.getElementById('textTutorialSubTitulo');
const textTutorialText0 = document.getElementById('textTutorialText0');
const textTutorialText1 = document.getElementById('textTutorialText1');
const textTutorialText2 = document.getElementById('textTutorialText2');
const textTutorialText3 = document.getElementById('textTutorialText3');
const textTutorialText4 = document.getElementById('textTutorialText4');
const textTutorialText5 = document.getElementById('textTutorialText5');
const textTutorialText6 = document.getElementById('textTutorialText6');
const textTutorialText7 = document.getElementById('textTutorialText7');
const textTutorialText8 = document.getElementById('textTutorialText8');
const textTutorialText9 = document.getElementById('textTutorialText9');
const textTutorialTextFooter = document.getElementById('textTutorialTextFooter');

//FEEDBACK1
const divAlternativaA = document.getElementById('divAlternativaA');
const divAlternativaB = document.getElementById('divAlternativaB');
const divAlternativaC = document.getElementById('divAlternativaC');
const divAlternativaD = document.getElementById('divAlternativaD');
const divAlternativaE = document.getElementById('divAlternativaE');

const txtAlternativaUnA = document.getElementById('txtAlternativaUnA');
const txtAlternativaUnB = document.getElementById('txtAlternativaUnB');
const txtAlternativaUnC = document.getElementById('txtAlternativaUnC');
const txtAlternativaUnD = document.getElementById('txtAlternativaUnD');
const txtAlternativaUnE = document.getElementById('txtAlternativaUnE');

const txtAlternativaUnFeedbackA = document.getElementById('txtAlternativaUnFeedbackA');
const txtAlternativaUnFeedbackB = document.getElementById('txtAlternativaUnFeedbackB');
const txtAlternativaUnFeedbackC = document.getElementById('txtAlternativaUnFeedbackC');
const txtAlternativaUnFeedbackD = document.getElementById('txtAlternativaUnFeedbackD');
const txtAlternativaUnFeedbackE = document.getElementById('txtAlternativaUnFeedbackE');

//RESULTADO

const txtPontos = document.getElementById('txtPontosFracao');
const textTituloResultado = document.getElementById('textTituloResultado');

const txtResultadoRegra2 = document.getElementById('txtResultadoRegra2');
const txtResultadoRegra3 = document.getElementById('txtResultadoRegra3');
const txtResultadoRegra4 = document.getElementById('txtResultadoRegra4');
const txtResultadoRegra5 = document.getElementById('txtResultadoRegra5');
const txtResultadoRegra6 = document.getElementById('txtResultadoRegra6');

const txtPontosFracao = document.getElementById('txtPontosFracao');





//SELECIONAR REGRAS
//const textEscolhaRegrasTitulo = document.getElementById('textEscolhaRegrasTitulo');
//const textRegra0 = document.getElementById('txtRegra0');
//const textRegra1 = document.getElementById('txtRegraTodas');
//const textRegra2 = document.getElementById('txtRegra2');
//const textRegra3 = document.getElementById('txtRegra3');
//const textRegra4 = document.getElementById('txtRegra4');
//const textRegra5 = document.getElementById('txtRegra5');
//const textRegra6 = document.getElementById('txtRegra6');


//FEEDBACK 1 DIVS
//const feedbackCorreto = document.getElementById('feedbackCorreto');
//const feedback1Incompleto = document.getElementById('feedback1Incompleto');
//const feedback1Incorreto = document.getElementById('feedback1Incorreto');


const textCorretoTitulo = document.getElementById('textCorretoTitulo');
const textCorretoConteudo1 = document.getElementById('textCorretoConteudo1');

const textIncompletoConteudo1T1 = document.getElementById('textIncompletoConteudo1T1');
const textIncompletoConteudo2T1 = document.getElementById('textIncompletoConteudo2T1');
const textIncompletoConteudo1T2 = document.getElementById('textIncompletoConteudo1T2');
const textIncompletoConteudo2T2 = document.getElementById('textIncompletoConteudo2T2');

const textIncorretoConteudo1T1 = document.getElementById('textIncorretoConteudo1T1');
const textIncorretoConteudo2T1 = document.getElementById('textIncorretoConteudo2T1');
const textIncorretoConteudo1T2 = document.getElementById('textIncorretoConteudo1T2');
const textIncorretoConteudo2T2 = document.getElementById('textIncorretoConteudo2T2');


const divFbIncorreto = document.getElementById('divFeedbackIncorreto');
const fbT1TextoIncorreto = document.getElementById('divTextFBIncorretoT1');
const fbT2TextoIncorreto = document.getElementById('divTextFBIncorretoT2');


const dviFbCorreto = document.getElementById('divFeedbackCorreto');
const fbT1TextoCorreto = document.getElementById('divTextFBCorreto');


const dviFbIncompleto = document.getElementById('divFeedbackIncompleto');
const fbT1TextoIncompleto = document.getElementById('divTextFBIncompletoT1');
const fbT2TextoIncompleto = document.getElementById('divTextFBIncompletoT2');

//NOME DA REGRA NA QUESTAO
const RegraText0 = document.getElementById('RegraText0');




//Imagens
//const imgIL = document.getElementById('imgIL');
const imgRSV = document.getElementById('imgRSV');
const imgQuiz = document.getElementById('imgQuiz');
const imgLogoBSK = document.getElementById('imgLogoBSK');
const imgLogoBSKIdesa = document.getElementById('imgLogoBSKIdesa');
const imgEstrelas1 = document.getElementById('imgEstrela1');
const imgEstrelas2 = document.getElementById('imgEstrela2');
const imgEstrelas3 = document.getElementById('imgEstrela3');





//btnPortugues.addEventListener('click', trocaJson(1));
//btnIngles.addEventListener('click', trocaJson(2));
//btnEspanhol.addEventListener('click', trocaJson(3));
//btnAlemao.addEventListener('click', trocaJson(4));


//btnVerQuestao = document.addEventListener('click', verFeedback);
btnRefazerE.addEventListener('click', refazer);
btnRefazerI.addEventListener('click', refazer);
btncontinuar.addEventListener('click', Continuar);
btnVerificar.addEventListener('click', verificarResposta);
btnVoltarHome.addEventListener('click', voltarHome);
btnSeguirRegras.addEventListener('click', seguirRegras);
btnReiniciar.addEventListener('click', reiniciar);
btnVoltarTutorial.addEventListener('click', voltarTutorial);
btnSeguirQuestao.addEventListener('click', start);
btnVerFeedbackE.addEventListener('click', verFeedback);
btnVerFeedbackI.addEventListener('click', verFeedback);
btnVerFeedbackC.addEventListener('click', verFeedback);
//btnVerQuestao.addEventListener('click', verQuestao);
btnVerRegra.addEventListener('click', verRegra);
btnVoltarPopUp.addEventListener('click', voltarPopUp);



btnVoltarAtitudesEsperadas.addEventListener('click', voltarAtitudesEsperadas);

var clickCounter2 = 0;
var clickCounter3 = 0;
var clickCounter4 = 0;
var clickCounter5 = 0;
var clickCounter6 = 0;
var clickCounterAll = 0;

var divSelectRegra2 = document.getElementById("divSelectRegra2");
var divSelectRegra3 = document.getElementById("divSelectRegra3");
var divSelectRegra4 = document.getElementById("divSelectRegra4");
var divSelectRegra5 = document.getElementById("divSelectRegra5");
var divSelectRegra6 = document.getElementById("divSelectRegra6");
var divSelectRegraAll = document.getElementById("divSelectRegraAll");

var clickCounterA0 = 0;
var clickCounterA1 = 0;
var clickCounterA2 = 0;
var clickCounterA3 = 0;
var clickCounterA4 = 0;

var divGameAlternativaA = document.getElementById("divGameAlternativaA");
var divGameAlternativaB = document.getElementById("divGameAlternativaB");
var divGameAlternativaC = document.getElementById("divGameAlternativaC");
var divGameAlternativaD = document.getElementById("divGameAlternativaD");
var divGameAlternativaE = document.getElementById("divGameAlternativaE");



const btnProgresso = document.getElementsByClassName("button-4 w-button");







window.onload = function() {
    divSelectRegra2.style.cursor = "pointer";
    divSelectRegra3.style.cursor = "pointer";
    divSelectRegra4.style.cursor = "pointer";
    divSelectRegra5.style.cursor = "pointer";
    divSelectRegra6.style.cursor = "pointer";
    divSelectRegraAll.style.cursor = "pointer";
    divSelectRegra2.onclick = isEvenClick2;
    divSelectRegra3.onclick = isEvenClick3;
    divSelectRegra4.onclick = isEvenClick4;
    divSelectRegra5.onclick = isEvenClick5;
    divSelectRegra6.onclick = isEvenClick6;
    divSelectRegraAll.onclick = isEvenClickAll;

    divGameAlternativaA.style.cursor = "pointer";
    divGameAlternativaB.style.cursor = "pointer";
    divGameAlternativaC.style.cursor = "pointer";
    divGameAlternativaD.style.cursor = "pointer";
    divGameAlternativaE.style.cursor = "pointer";
    divGameAlternativaA.onclick = isEvenClickA0;
    divGameAlternativaB.onclick = isEvenClickA1;
    divGameAlternativaC.onclick = isEvenClickA2;
    divGameAlternativaD.onclick = isEvenClickA3;
    divGameAlternativaE.onclick = isEvenClickA4;

    for (let i = 0; i < 12; i++) {
        btnProgresso[i].style.display = "none";
    }

}






function isEvenClick2() {
    clickCounter2++;
    if (clickCounter2 % 2 === 0) {
        //console.log(clickCounter)
        divSelectRegra2.style.backgroundColor = "";
        regrasMarcadas.splice(regrasMarcadas.indexOf(2), 1);
        console.log('Removido!, Total de #Regras Marcadas', regrasMarcadas)
    } else {
        divSelectRegra2.style.backgroundColor = corAtivada;
        divSelectRegra2.style.filter = "grayscale(0%)";

        regrasMarcadas.push(2)

        console.log('Adicionado!, Total de #Regras Marcadas', regrasMarcadas)
    }
}

function isEvenClick3() {
    clickCounter3++;
    if (clickCounter3 % 2 === 0) {
        //console.log(clickCounter)
        divSelectRegra3.style.backgroundColor = "";
        regrasMarcadas.splice(regrasMarcadas.indexOf(3), 1);
        console.log('Removido!, Total de #Regras Marcadas', regrasMarcadas)
    } else {
        divSelectRegra3.style.backgroundColor = corAtivada;
        divSelectRegra3.style.filter = "grayscale(0%)";
        regrasMarcadas.push(3)
        console.log('Adicionado!, Total de #Regras Marcadas', regrasMarcadas)
    }
}

function isEvenClick4() {
    clickCounter4++;
    if (clickCounter4 % 2 === 0) {
        //console.log(clickCounter)
        divSelectRegra4.style.backgroundColor = "";
        regrasMarcadas.splice(regrasMarcadas.indexOf(4), 1);
        console.log('Removido!, Total de #Regras Marcadas', regrasMarcadas)
    } else {
        divSelectRegra4.style.backgroundColor = corAtivada;
        divSelectRegra4.style.filter = "grayscale(0%)";
        regrasMarcadas.push(4)
        console.log('Adicionado!, Total de #Regras Marcadas', regrasMarcadas)
    }
}

function isEvenClick5() {
    clickCounter5++;
    if (clickCounter5 % 2 === 0) {
        //console.log(clickCounter)
        divSelectRegra5.style.backgroundColor = "";
        regrasMarcadas.splice(regrasMarcadas.indexOf(5), 1);
        console.log('Removido!, Total de #Regras Marcadas', regrasMarcadas)
    } else {
        divSelectRegra5.style.backgroundColor = corAtivada;
        divSelectRegra5.style.filter = "grayscale(0%)";
        regrasMarcadas.push(5)
        console.log('Adicionado!, Total de #Regras Marcadas', regrasMarcadas)
    }
}

function isEvenClick6() {
    clickCounter6++;
    if (clickCounter6 % 2 === 0) {
        //console.log(clickCounter)
        divSelectRegra6.style.backgroundColor = "";
        regrasMarcadas.splice(regrasMarcadas.indexOf(6), 1);
        console.log('Removido!, Total de #Regras Marcadas', regrasMarcadas)
    } else {
        divSelectRegra6.style.backgroundColor = corAtivada;
        divSelectRegra6.style.filter = "grayscale(0%)";
        regrasMarcadas.push(6)
        console.log('Adicionado!, Total de #Regras Marcadas', regrasMarcadas)
    }
}


function isEvenClickAll() {
    clickCounterAll++;
    if (clickCounterAll % 2 === 0) {
        //console.log(clickCounter)

        regrasMarcadas.length = 0;
        console.log('Removido!, Total de #Regras Marcadas', regrasMarcadas)
        divSelectRegra2.style.backgroundColor = "";
        divSelectRegra3.style.backgroundColor = "";
        divSelectRegra4.style.backgroundColor = "";
        divSelectRegra5.style.backgroundColor = "";
        divSelectRegra6.style.backgroundColor = "";
        divSelectRegraAll.style.backgroundColor = "";
        clickCounter2 = 0;
        clickCounter3 = 0;
        clickCounter4 = 0;
        clickCounter5 = 0;
        clickCounter6 = 0;
    } else {
        divSelectRegraAll.style.backgroundColor = corAtivada;
        regrasMarcadas.length = 0;
        regrasMarcadas.push(1)
        regrasMarcadas.push(2)
        regrasMarcadas.push(3)
        regrasMarcadas.push(4)
        regrasMarcadas.push(5)
        regrasMarcadas.push(6)
        divSelectRegra2.style.backgroundColor = corAtivada;
        divSelectRegra3.style.backgroundColor = corAtivada;
        divSelectRegra4.style.backgroundColor = corAtivada;
        divSelectRegra5.style.backgroundColor = corAtivada;
        divSelectRegra6.style.backgroundColor = corAtivada;
        console.log('Adicionado!, Total de #Regras Marcadas', regrasMarcadas)
    }
}




function isEvenClickA0() {
    clickCounterA0++;
    var indice = 0;
    if (clickCounterA0 % 2 === 0) {
        //console.log(clickCounter)
        divGameAlternativaA.style.backgroundColor = "";
        qMarcadas.splice(qMarcadas.indexOf(indice), 1);
        qMarcadasTF.splice(qMarcadasTF.indexOf(baseCorreta[indice]), 1);

        console.log(qMarcadas)

    } else {
        divGameAlternativaA.style.backgroundColor = corAtivada;
        qMarcadas.push(indice)

        console.log('Alternatvas Marcadas', qMarcadas)

        qMarcadasTF.push(baseCorreta[indice])
        marcadasCorretas = countTrue(qMarcadasTF);
        marcadasErradas = countFalse(qMarcadasTF);

        console.log('Numero de Corretas marcadas', marcadasCorretas);
        console.log('Numero de Erradas marcadas', marcadasErradas);


    }
}

function isEvenClickA1() {
    clickCounterA1++;
    var indice = 1;
    if (clickCounterA1 % 2 === 0) {
        //console.log(clickCounter)
        divGameAlternativaB.style.backgroundColor = "";
        qMarcadas.splice(qMarcadas.indexOf(indice), 1);
        qMarcadasTF.splice(qMarcadasTF.indexOf(baseCorreta[indice]), 1);

        console.log(qMarcadas)

    } else {
        divGameAlternativaB.style.backgroundColor = corAtivada;
        qMarcadas.push(indice)

        console.log('Alternatvas Marcadas', qMarcadas)

        qMarcadasTF.push(baseCorreta[indice])
        marcadasCorretas = countTrue(qMarcadasTF);
        marcadasErradas = countFalse(qMarcadasTF);

        console.log('Numero de Corretas marcadas', marcadasCorretas);
        console.log('Numero de Erradas marcadas', marcadasErradas);


    }
}

function isEvenClickA2() {
    clickCounterA2++;
    var indice = 2;
    if (clickCounterA2 % 2 === 0) {
        //console.log(clickCounter)
        divGameAlternativaC.style.backgroundColor = "";
        qMarcadas.splice(qMarcadas.indexOf(indice), 1);
        qMarcadasTF.splice(qMarcadasTF.indexOf(baseCorreta[indice]), 1);

        console.log(qMarcadas)

    } else {
        divGameAlternativaC.style.backgroundColor = corAtivada;
        qMarcadas.push(indice)

        console.log('Alternatvas Marcadas', qMarcadas)

        qMarcadasTF.push(baseCorreta[indice])
        marcadasCorretas = countTrue(qMarcadasTF);
        marcadasErradas = countFalse(qMarcadasTF);

        console.log('Numero de Corretas marcadas', marcadasCorretas);
        console.log('Numero de Erradas marcadas', marcadasErradas);


    }
}


function isEvenClickA3() {
    clickCounterA3++;
    var indice = 3;
    if (clickCounterA3 % 2 === 0) {
        //console.log(clickCounter)
        divGameAlternativaD.style.backgroundColor = "";
        qMarcadas.splice(qMarcadas.indexOf(indice), 1);
        qMarcadasTF.splice(qMarcadasTF.indexOf(baseCorreta[indice]), 1);

        console.log(qMarcadas)

    } else {
        divGameAlternativaD.style.backgroundColor = corAtivada;
        qMarcadas.push(indice)

        console.log('Alternatvas Marcadas', qMarcadas)

        qMarcadasTF.push(baseCorreta[indice])
        marcadasCorretas = countTrue(qMarcadasTF);
        marcadasErradas = countFalse(qMarcadasTF);

        console.log('Numero de Corretas marcadas', marcadasCorretas);
        console.log('Numero de Erradas marcadas', marcadasErradas);


    }
}

function isEvenClickA4() {
    clickCounterA4++;
    var indice = 4;
    if (clickCounterA4 % 2 === 0) {
        //console.log(clickCounter)
        divGameAlternativaE.style.backgroundColor = "";
        qMarcadas.splice(qMarcadas.indexOf(indice), 1);
        qMarcadasTF.splice(qMarcadasTF.indexOf(baseCorreta[indice]), 1);

        console.log(qMarcadas)

    } else {
        divGameAlternativaE.style.backgroundColor = corAtivada;
        qMarcadas.push(indice)

        console.log('Alternatvas Marcadas', qMarcadas)

        qMarcadasTF.push(baseCorreta[indice])
        marcadasCorretas = countTrue(qMarcadasTF);
        marcadasErradas = countFalse(qMarcadasTF);

        console.log('Numero de Corretas marcadas', marcadasCorretas);
        console.log('Numero de Erradas marcadas', marcadasErradas);


    }
}












imgRSV.style.display = "none";

SetupInicia();

function SetupInicia() {}



//Troca a Base de dados 
function trocaJson(i) {
    if (i == 1) {
        url = 'js/ptbr.json'
    } else if (i == 2) {
        url = 'js/us.json'
    } else if (i == 3) {
        url = 'js/es.json'
        console.log(url)
    } else if (i == 4) {
        url = 'js/al.json'
    }
    console.log("Base JSON atribuido:", url)

    tutorial.style.display = "block";
    home.style.display = "none";

    pegarDados3();

    imgRSV.style.display = "block";

}

function seguirRegras() {
    tutorial.style.display = "none";
    selectRegras.style.display = "block";
}



function start() {


    if (regrasMarcadas.length == 0) {
        divPopUpAlerta.style.display = "block"
        PopUpLayerBG.style.display = "block"
    } else {

        pegarDados2();
        console.log('Tentativas', tentativas);
        selectRegras.style.display = "none";

        clickCounter2 = 0;
        clickCounter3 = 0;
        clickCounter4 = 0;
        clickCounter5 = 0;
        clickCounter6 = 0;
        clickCounterAll = 0;
        divSelectRegra2.style.backgroundColor = "";
        divSelectRegra3.style.backgroundColor = "";
        divSelectRegra4.style.backgroundColor = "";
        divSelectRegra5.style.backgroundColor = "";
        divSelectRegra6.style.backgroundColor = "";
        divSelectRegraAll.style.backgroundColor = "";

        setTimeout(function() {
            gameArea.style.display = "block";
        }, 600);


    }

    btnVerQuestao.style.display = "none";

}


//Consulta na base para gerar o dados das questões
function pegarDados(i) {
    fetch(url).then(response => {
        return response.json();
    }).then(data => {
        if (data.erro) {
            console.log("Erro ao acessar o JSON")
            return
        }
        // passar o quantidade de questoes para a variavel
        // let qtdQuestoes = (data[0].questoes.length)
        // escrver a qtdQuestoes para total
        //total.innerText = parseInt(qtdQuestoes)
        // console.log("Quantidade de Questoes:", qtdQuestoes)
        // passe o valor de i no parametro
        atribuirDados(data, i)
        gerarBaseCorreta(data, i)
    })
}

//Consulta na base para gerar o Array de questões com base na Regra escolhida
function pegarDados2() {
    fetch(url).then(response => {
        return response.json();
    }).then(data2 => {
        if (data2.erro) {
            console.log("Erro ao acessar o JSON")
            return
        }
        gerarArrayQuestoes(data2)

        // idiomaConteudo(data2)

    })
}

function pegarDados3() {
    fetch(url).then(response => {
        return response.json();
    }).then(data3 => {
        if (data3.erro) {
            console.log("Erro ao acessar o JSON")
            return
        }
        idiomaConteudo(data3)
            // console.log(data3)

    })
}


function gerarBaseCorreta(data, i) {

    for (let j = 0; j < data[0].questoes[i].answers.length; j++) {
        baseCorreta.push(data[0].questoes[i].answers[j].isCorrect)
    }
    nBaseCorreta = countTrue(baseCorreta)
    console.log('Numero de alternativas corretas da Base', nBaseCorreta);
}

//gera o array de questões com base nas regras escolhidas
function gerarArrayQuestoes(data2) {
    for (let k = 0; k < regrasMarcadas.length; k++) {
        for (let j = 0; j < (data2[0].questoes.length); j++) {
            if (data2[0].questoes[j].regra == regrasMarcadas[k]) {
                ArrQuestoesGeradas.push(data2[0].questoes[j].id)

            }
        }
    }
    var qtdQuestoes = ArrQuestoesGeradas.length;


    console.log("Array de questões geradas:", ArrQuestoesGeradas)
    console.log("Quantidade de questões geradas:", qtdQuestoes)

    for (let i = 0; i < ArrQuestoesGeradas.length; i++) {
        btnProgresso[i].style.display = "flex";
    }
    btnProgresso[0].style.backgroundColor = indicadorLigado;
    pegarDados(ArrQuestoesGeradas[0]);

}







function idiomaConteudo(data3) {


    textTutorialTitulo.innerText = data3[0].conteudo[0].Tutorial[0].titulo;
    textTutorialSubTitulo.innerText = data3[0].conteudo[0].Tutorial[0].subTitulo;
    textTutorialText0.innerText = data3[0].conteudo[0].Tutorial[0].text0;
    textTutorialText1.innerText = data3[0].conteudo[0].Tutorial[0].text1;
    textTutorialText2.innerText = data3[0].conteudo[0].Tutorial[0].text2;
    textTutorialText3.innerText = data3[0].conteudo[0].Tutorial[0].text3;
    textTutorialText4.innerText = data3[0].conteudo[0].Tutorial[0].text4;
    textTutorialText5.innerText = data3[0].conteudo[0].Tutorial[0].text5;
    textTutorialText6.innerText = data3[0].conteudo[0].Tutorial[0].text6;
    textTutorialText7.innerText = data3[0].conteudo[0].Tutorial[0].text7;
    textTutorialText8.innerText = data3[0].conteudo[0].Tutorial[0].text8;
    textTutorialText9.innerText = data3[0].conteudo[0].Tutorial[0].text9;
    textTutorialTextFooter.innerText = data3[0].conteudo[0].Tutorial[0].textFooter;



    btnVerificar.innerText = data3[0].conteudo[0].Botoes[0].btnVerificar;
    //btnVerFeedback.innerText = data3[0].conteudo[0].Botoes[0].btnVejaFeedback;
    //btnRefazer.innerText = data3[0].conteudo[0].Botoes[0].btnRefazer;
    btncontinuar.innerText = data3[0].conteudo[0].Botoes[0].btnContinuar;
    btnVoltarHome.innerText = data3[0].conteudo[0].Botoes[0].btnVoltar;
    btnSeguirRegras.innerText = data3[0].conteudo[0].Botoes[0].btnSeguir;
    //btnReiniciar.innerText = data3[0].conteudo[0].Botoes[0].btnReiniciar;
    btnVoltarTutorial.innerText = data3[0].conteudo[0].Botoes[0].btnVoltar;
    btnSeguirQuestao.innerText = data3[0].conteudo[0].Botoes[0].btnSeguir;

    txtPopUp1alternativaRegra.innerText = data3[0].conteudo[0].PopUp[0].textAlertaRegra;
    textCorretoTitulo.innerText = data3[0].conteudo[0].Feedback1[0].textCorretoTitulo;
    textCorretoConteudo1.innerText = data3[0].conteudo[0].Feedback1[0].textCorretoConteudo1;

    //textIncompletoTitulo.innerText = data3[0].conteudo[0].Feedback1[0].textIncompletoTitulo;
    //textIncompletoConteudo1.innerText = data3[0].conteudo[0].Feedback1[0].textIncompletoConteudo1;
    //textIncompletoConteudo2.innerText = data3[0].conteudo[0].Feedback1[0].textIncompletoConteudo2;
    //textIncorretoTitulo.innerText = data3[0].conteudo[0].Feedback1[0].textIncorretoTitulo;
    //textIncorretoConteudo1.innerText = data3[0].conteudo[0].Feedback1[0].textIncorretoConteudo1;


    //textRegraAll.innerText = data3[0].conteudo[0].Escolha_Regras[0].text0;
    /*
        textEscolhaRegrasTitulo.innerText = data3[0].conteudo[0].Escolha_Regras[0].titulo;
        
        textRegra1.innerText = data3[0].conteudo[0].Escolha_Regras[0].text1;
        textRegra2.innerText = data3[0].conteudo[0].Escolha_Regras[0].text2;
        textRegra3.innerText = data3[0].conteudo[0].Escolha_Regras[0].text3;
        textRegra4.innerText = data3[0].conteudo[0].Escolha_Regras[0].text4;
        textRegra5.innerText = data3[0].conteudo[0].Escolha_Regras[0].text5;
        textRegra6.innerText = data3[0].conteudo[0].Escolha_Regras[0].text06;
*/

}

//gerar base com as questoes corretas para verificação


//Contar a quantidade de verdadeiras do Array
function countTrue(arr) {
    return arr.filter(w => w === true).length;
}

function countFalse(arr) {
    return arr.filter(w => w === false).length;
}

// Renderizar Questão
function atribuirDados(data, i) {



    const questionP1 = document.getElementById('questaoP1');
    const questionP2 = document.getElementById('questaoP2');

    var txtAlternativaA = document.getElementById("txtAlternativaA");
    var txtAlternativaB = document.getElementById("txtAlternativaB");
    var txtAlternativaC = document.getElementById("txtAlternativaC");
    var txtAlternativaD = document.getElementById("txtAlternativaD");
    var txtAlternativaE = document.getElementById("txtAlternativaE");

    const txtAtitudesEsperadasNumero = document.getElementById("txtAtitudesEsperadasNumero");
    var text1AtitudesEsperadas = document.getElementById("text1AtitudesEsperadas");
    var text2AtitudesEsperadas = document.getElementById("text2AtitudesEsperadas");
    var text3AtitudesEsperadas = document.getElementById("text3AtitudesEsperadas");
    var text4AtitudesEsperadas = document.getElementById("text4AtitudesEsperadas");
    const divcardAtitudesEsperadas = document.getElementById("divcardAtitudesEsperadas");

    const divGameAlternativaC = document.getElementById("divGameAlternativaC");
    const divGameAlternativaD = document.getElementById("divGameAlternativaD");
    const divGameAlternativaE = document.getElementById("divGameAlternativaE");
    const divFeedBackLinha3 = document.getElementById("divFeedBackLinha3");
    const divFeedBackLinha4 = document.getElementById("divFeedBackLinha4");
    const divFeedBackLinha5 = document.getElementById("divFeedBackLinha5");



    var imgIC = document.getElementById("imgICAtitudesEsperadas");
    var imgIL = document.getElementById("imgIL");

    divGameAlternativaC.style.display = "block";
    divGameAlternativaD.style.display = "block";
    divGameAlternativaE.style.display = "block";
    divFeedBackLinha3.style.display = "flex";
    divFeedBackLinha4.style.display = "flex";
    divFeedBackLinha5.style.display = "flex";


    questionP1.innerText = data[0].questoes[i].questaoP1;
    questionP2.innerText = data[0].questoes[i].questaoP2;

    txtAlternativaA.innerText = data[0].questoes[i].answers[0].text;
    txtAlternativaB.innerText = data[0].questoes[i].answers[1].text;
    txtAlternativaC.innerText = data[0].questoes[i].answers[2].text;
    txtAlternativaD.innerText = data[0].questoes[i].answers[3].text;
    txtAlternativaE.innerText = data[0].questoes[i].answers[4].text;

    txtAlternativaUnA.innerText = data[0].questoes[i].answers[0].text;
    txtAlternativaUnB.innerText = data[0].questoes[i].answers[1].text;
    txtAlternativaUnC.innerText = data[0].questoes[i].answers[2].text;
    txtAlternativaUnD.innerText = data[0].questoes[i].answers[3].text;
    txtAlternativaUnE.innerText = data[0].questoes[i].answers[4].text;

    txtAlternativaUnFeedbackA.innerText = data[0].questoes[i].answers[0].feedback;
    txtAlternativaUnFeedbackB.innerText = data[0].questoes[i].answers[1].feedback;
    txtAlternativaUnFeedbackC.innerText = data[0].questoes[i].answers[2].feedback;
    txtAlternativaUnFeedbackD.innerText = data[0].questoes[i].answers[3].feedback;
    txtAlternativaUnFeedbackE.innerText = data[0].questoes[i].answers[4].feedback;

    RegraText0.innerText = data[0].questoes[i].regraText;



    var textC = data[0].questoes[i].answers[2].text;
    var textD = data[0].questoes[i].answers[3].text;
    var textE = data[0].questoes[i].answers[4].text;

    if (textC === "") {
        divGameAlternativaC.style.display = "none";
        divFeedBackLinha3.style.display = "none";
    }
    if (textD === "") {
        divGameAlternativaD.style.display = "none";
        divFeedBackLinha4.style.display = "none";
    }
    if (textE === "") {
        divGameAlternativaE.style.display = "none";
        divFeedBackLinha5.style.display = "none";
    }





    const str1 = 'CONSULTE AQUI A REGRA #';
    const str2 = data[0].questoes[i].regra;

    btnVerRegra.innerText = (str1.concat(' ', str2));



    var RegraCorrente = data[0].questoes[i].regra;

    console.log(RegraCorrente)

    var teste = data[0].conteudo[0].Atitudes_Esperadas[0].Regra[0].text0;

    console.log(teste)

    var h = RegraCorrente - 2;
    console.log(h)
    divcardAtitudesEsperadas.style.backgroundColor = data[0].conteudo[0].Atitudes_Esperadas[0].Regra[h].bgcolor;
    txtAtitudesEsperadasNumero.innerText = data[0].conteudo[0].Atitudes_Esperadas[0].Regra[h].text0;
    text1AtitudesEsperadas.innerText = data[0].conteudo[0].Atitudes_Esperadas[0].Regra[h].text1;
    text2AtitudesEsperadas.innerText = data[0].conteudo[0].Atitudes_Esperadas[0].Regra[h].text2;
    text3AtitudesEsperadas.innerText = data[0].conteudo[0].Atitudes_Esperadas[0].Regra[h].text3;
    text4AtitudesEsperadas.innerText = data[0].conteudo[0].Atitudes_Esperadas[0].Regra[h].text4;
    imgIC.src = data[0].conteudo[0].Atitudes_Esperadas[0].Regra[h].imgIC;
    imgIL.src = data[0].conteudo[0].Atitudes_Esperadas[0].Regra[h].imgIL;

    console.log("pontos", pontos)

    txtPopUp1alternativaRegra.innerText = data[0].conteudo[0].PopUp[0].textAlertaAlternativa1;

}



function verFeedback() {


    btnProgresso[questaoCorrente].style.backgroundColor = indicadorLigado;


    gameArea.style.display = "none";
    dviFbCorreto.style.display = "none";
    divFbIncorreto.style.display = "none";
    dviFbIncompleto.style.display = "none";
    feedback2.style.display = "block";
    PopUpLayerBG.style.display = "none"
    questaoCorrente++

}
//verifica a resposta 
function verificarResposta() {

    clickCounterA0 = 0;
    clickCounterA1 = 0;
    clickCounterA2 = 0;
    clickCounterA3 = 0;
    clickCounterA4 = 0;

    var divAlternativaFBA = document.getElementById("divAlternativaFBA");
    var divAlternativaFBB = document.getElementById("divAlternativaFBB");
    var divAlternativaFBC = document.getElementById("divAlternativaFBC");
    var divAlternativaFBD = document.getElementById("divAlternativaFBD");
    var divAlternativaFBE = document.getElementById("divAlternativaFBE");

    btnRefazerE.style.display = "none";
    btnRefazerI.style.display = "none";
    dviFbCorreto.style.display = "none";
    divFbIncorreto.style.display = "none";
    dviFbIncompleto.style.display = "none";
    fbT1TextoIncorreto.style.display = "none";
    fbT2TextoIncorreto.style.display = "none";
    fbT1TextoIncompleto.style.display = "none";
    fbT2TextoIncompleto.style.display = "none";
    fbT1TextoCorreto.style.display = "none";
    btnVerFeedbackE.style.display = "none";
    btnVerFeedbackI.style.display = "none";
    btnVerFeedbackC.style.display = "none";

    nBaseCorreta = countTrue(baseCorreta);
    marcadasCorretas = countTrue(qMarcadasTF);
    console.log('Numero de corretas da Base', nBaseCorreta);
    console.log('Numero de corretas marcadas', marcadasCorretas);

    if (qMarcadas.length != 0) {

        for (let i = 0; i < qMarcadasTF.length; i++) {
            if (qMarcadasTF[i] == true) {
                const divAlternativa = document.getElementsByClassName("divalternativaun-copy")[qMarcadas[i]]
                divAlternativa.style.backgroundColor = "";
                divAlternativa.style.backgroundColor = corCorreta;
            } else {
                const divAlternativa = document.getElementsByClassName("divalternativaun-copy")[qMarcadas[i]]
                divAlternativa.style.backgroundColor = "";
                divAlternativa.style.backgroundColor = corErrada;
            }
        }


        if (baseCorreta[0] == true) {
            divAlternativaFBA.style.backgroundColor = corCorreta;
            console.log(baseCorreta[0])
        } else {
            divAlternativaFBA.style.backgroundColor = "";
            divAlternativaFBA.style.backgroundColor = corErrada;
        }
        if (baseCorreta[1] == true) {
            divAlternativaFBB.style.backgroundColor = "";
            divAlternativaFBB.style.backgroundColor = corCorreta;
            console.log(baseCorreta[1])
        } else {
            divAlternativaFBB.style.backgroundColor = "";
            divAlternativaFBB.style.backgroundColor = corErrada;
        }
        if (baseCorreta[2] == true) {
            divAlternativaFBC.style.backgroundColor = "";
            divAlternativaFBC.style.backgroundColor = corCorreta;
            console.log(baseCorreta[2])
        } else {
            divAlternativaFBC.style.backgroundColor = "";
            divAlternativaFBC.style.backgroundColor = corErrada;
        }
        if (baseCorreta[3] == true) {
            divAlternativaFBD.style.backgroundColor = "";
            divAlternativaFBD.style.backgroundColor = corCorreta;
        } else {
            divAlternativaFBD.style.backgroundColor = "";
            divAlternativaFBD.style.backgroundColor = corErrada;
        }
        if (baseCorreta[4] == true) {
            divAlternativaFBE.style.backgroundColor = "";
            divAlternativaFBE.style.backgroundColor = corCorreta;
        } else {
            divAlternativaFBE.style.backgroundColor = "";
            divAlternativaFBE.style.backgroundColor = corErrada;
        }



        /* for (let i = 0; i < qMarcadasTF.length; i++) {
                       if (qMarcadasTF[i] == true) {
                           document.getElementsByClassName("select__item")[qMarcadas[i]].classList.remove("select__item--selected");
                           document.getElementsByClassName("select__item")[qMarcadas[i]].classList.add("correct");
                       } else {
                           document.getElementsByClassName("select__item")[qMarcadas[i]].classList.remove("select__item--selected");
                           document.getElementsByClassName('select__item')[qMarcadas[i]].classList.add("wrong");
                       }
                   }
           */
        // for (let i = 0; i < baseCorreta.length; i++) {
        //    if (baseCorreta[i] == true) {
        //     document.getElementsByClassName("alternativaFB")[i].style.backgroundColor = "#ffd0de";
        //   } else {
        //     document.getElementsByClassName("alternativaFB")[i].style.backgroundColor = "#cdff8b";
        // }
        //}




        if (tentativas == 0) {

            if (marcadasCorretas == 0) {
                console.log('vc errou, tente novamente!', tentativas)

                btnRefazerE.style.display = "block";
                tentativas++

                setTimeout(function() {
                    divFbIncorreto.style.display = "block";
                    fbT1TextoIncorreto.style.display = "block";
                    PopUpLayerBG.style.display = "block"
                }, 2000);
            } else if ((marcadasErradas != 0) && (marcadasCorretas != 0)) {
                console.log('Ótimo!" vc acertou, mas Errou tambem!', tentativas)

                btnRefazerI.style.display = "block";
                tentativas++

                setTimeout(function() {
                    dviFbIncompleto.style.display = "block";
                    fbT1TextoIncompleto.style.display = "block";
                    PopUpLayerBG.style.display = "block"
                }, 2000);

            } else if ((marcadasCorretas < nBaseCorreta)) {
                console.log('Ótimo! vc acertou, mas não todas!', tentativas)

                btnRefazerI.style.display = "block";
                tentativas++
                setTimeout(function() {
                    dviFbIncompleto.style.display = "block";
                    fbT1TextoIncompleto.style.display = "block";
                    PopUpLayerBG.style.display = "block"
                }, 2000);

            } else {
                tentativas = 2;
                pontos++
                console.log('Parabens vc acertou todas!', tentativas);
                btnVerFeedbackC.style.display = "block";
                btnRefazerE.style.display = "none";
                btnRefazerI.style.display = "none";

                setTimeout(function() {
                    dviFbCorreto.style.display = "block";
                    fbT1TextoCorreto.style.display = "block";
                    PopUpLayerBG.style.display = "block"
                }, 2000);
            }

        } else if (tentativas == 1) {


            if (marcadasCorretas == 0) {
                console.log('vc errou, tente novamente!', tentativas)
                btnVerFeedbackE.style.display = "block";
                btnRefazerE.style.display = "none";
                tentativas++

                setTimeout(function() {
                    divFbIncorreto.style.display = "block";
                    fbT2TextoIncorreto.style.display = "block";
                    PopUpLayerBG.style.display = "block"
                }, 2000);
            } else if ((marcadasErradas != 0) && (marcadasCorretas != 0)) {
                console.log('Ótimo!" vc acertou, mas Errou tambem!', tentativas)
                btnVerFeedbackI.style.display = "block";
                btnRefazerI.style.display = "none";
                tentativas++

                setTimeout(function() {
                    dviFbIncompleto.style.display = "block";
                    fbT2TextoIncompleto.style.display = "block";
                    PopUpLayerBG.style.display = "block"
                }, 2000);

            } else if ((marcadasCorretas < nBaseCorreta)) {
                console.log('Ótimo! vc acertou, mas não todas!', tentativas)
                btnVerFeedbackI.style.display = "block";
                btnRefazerI.style.display = "none";
                tentativas++
                setTimeout(function() {
                    dviFbIncompleto.style.display = "block";
                    fbT2TextoIncompleto.style.display = "block";
                    PopUpLayerBG.style.display = "block"
                }, 2000);

            } else {
                tentativas = 2;
                pontos++
                console.log('Parabens vc acertou todas!', tentativas);
                btnVerFeedbackC.style.display = "block";
                btnRefazerI.style.display = "none";
                btnRefazerE.style.display = "none";

                setTimeout(function() {
                    dviFbCorreto.style.display = "block";
                    fbT1TextoCorreto.style.display = "block";
                    PopUpLayerBG.style.display = "block"
                }, 2000);
            }


        }

        btnVerificar.style.pointerEvents = "none";

        //} else if (qMarcadas.length == 5) {
        //   document.getElementsByClassName("result")[0].innerText = 'voce nao pode selecionar todas as alternativas';

    } else if (qMarcadas.length == 0) {

        divPopUpAlerta.style.display = "block"
        PopUpLayerBG.style.display = "block"
    }



}


function refazer() {
    btnVerificar.style.pointerEvents = "auto";
    console.log('Tentativas', tentativas);
    if (tentativas == 2) {
        btncontinuar.style.display = "block";
        btnVerificar.style.display = "none";
    }
    //document.getElementById('fb').style.display = "none";

    for (let i = 0; i < qMarcadas.length; i++) {
        document.getElementsByClassName("divalternativaun-copy")[qMarcadas[i]].style.backgroundColor = "";
    }
    //document.getElementsByClassName("result")[0].innerText = '';
    qMarcadas.length = 0;
    qMarcadasTF.length = 0;
    dviFbCorreto.style.display = "none";
    divFbIncorreto.style.display = "none";
    dviFbIncompleto.style.display = "none";
    PopUpLayerBG.style.display = "none"


}



function Continuar() {
    gameArea.style.display = "block";
    btnVerificar.style.pointerEvents = "auto";
    tentativas = 0;
    feedback2.style.display = "none";
    //feedback.style.display = "none";
    if (id < ArrQuestoesGeradas.length) {
        btnVerificar.style.display = "";
        pegarDados(ArrQuestoesGeradas[id])
        for (let i = 0; i < qMarcadas.length; i++) {
            document.getElementsByClassName("divalternativaun-copy")[qMarcadas[i]].style.backgroundColor = "";
        }
        // document.getElementsByClassName("result")[0].innerText = id;
        qMarcadas.length = 0;
        qMarcadasTF.length = 0;
        baseCorreta.length = 0;
        id++
    } else {


        const str1 = pontos;
        const str2 = ArrQuestoesGeradas.length;

        txtPontos.innerText = (str1);


        resultado.style.display = "block";
        gameArea.style.display = "none";

        if ((pontos >= 1) && (pontos < 3)) {
            imgEstrelas1.style.filter = "grayscale(0%)";
        }
        if ((pontos >= 3) && (pontos < 6)) {
            imgEstrelas1.style.filter = "grayscale(0%)";
            imgEstrelas2.style.filter = "grayscale(0%)";
        }
        if (pontos >= 6) {
            imgEstrelas1.style.filter = "grayscale(0%)";
            imgEstrelas2.style.filter = "grayscale(0%)";
            imgEstrelas3.style.filter = "grayscale(0%)";
        }
    };

    console.log("pontos", pontos)

}

function reiniciar() {
    home.style.display = "block";
    feedback2.style.display = "none";
    resultado.style.display = "none";
    id = 1
    pontos = 0

    for (let i = 0; i < qMarcadas.length; i++) {
        document.getElementsByClassName("divalternativaun-copy")[qMarcadas[i]].style.backgroundColor = "";
    }
    for (let i = 0; i < regrasMarcadas.length; i++) {
        // document.getElementsByClassName("select__item1")[regrasMarcadas[i]].classList.remove("select__item--selected1");
    }
    qMarcadas.length = 0;
    qMarcadasTF.length = 0;
    baseCorreta.length = 0;
    ArrQuestoesGeradas.length = 0;
    regrasMarcadas.length = 0;
    imgEstrelas1.style.filter = "grayscale(100%)";
    imgEstrelas2.style.filter = "grayscale(100%)";
    imgEstrelas3.style.filter = "grayscale(100%)";

    for (let i = 0; i < 12; i++) {
        btnProgresso[i].style.backgroundColor = "#00a9e0";
    }
}

function voltarHome() {
    home.style.display = "block";
    tutorial.style.display = "none";
}

function verRegra() {
    PopUpLayerBG.style.display = "block"
    divConsulteRegra.style.display = "block";
    divConsulteRegra.style.zIndex = "999";

}

function verQuestao() {
    divConsulteRegra.style.display = "block";
    PopUpLayerBG.style.display = "block"
}

function voltarAtitudesEsperadas() {
    divConsulteRegra.style.display = "none";
    PopUpLayerBG.style.display = "none"
}

function voltarTutorial() {
    selectRegras.style.display = "none";
    tutorial.style.display = "block";
}

function voltarPopUp() {
    PopUpLayerBG.style.display = "none";
    divPopUpAlerta.style.display = "none";
}
